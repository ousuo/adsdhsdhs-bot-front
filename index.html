<!-- === FILE: index.html === -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#007aff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script id="yandex-maps"></script>
  <script type="module" crossorigin src="./assets/index.Mpkbi5gt.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/style.Bqvbi-36.css">
</head>
<body>
    <div id="app">
        <!-- Glass Header -->
        <header class="header" id="header">
            <div class="header-content">
                <div class="header-top">
                    <div>
                        <h1 id="headerTitle">–°–æ–∑–¥–∞—Ç—å</h1>
                        <p class="header-subtitle" id="headerSubtitle">–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</p>
                    </div>
                    <div class="slots-indicator" id="slotsIndicator">
                        <span class="slots-icon">üìç</span>
                        <span id="slotsCount">5/5</span>
                    </div>
                </div>

                <div class="cooldown-warning" id="cooldownWarning">
                    <span>‚è±Ô∏è</span>
                    <span>–°–ª–µ–¥—É—é—â–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ <strong id="cooldownTime">-</strong></span>
                </div>

                <div class="progress-section">
                    <span class="progress-text" id="progressText">0%</span>
                    <div class="progress-container">
                        <div class="progress-fill low" id="progressFill"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Form View -->
        <div class="view active" id="formView">
            <div class="main-content">
                
                <!-- Category Selection - Grid -->
                <p class="section-header">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</p>
                <div class="category-grid" id="categoryGrid">
                    <div class="category-item" data-category="–†–∞–±–æ—Ç–∞">
                        <div class="category-icon work">üíº</div>
                        <span class="category-label">–†–∞–±–æ—Ç–∞</span>
                    </div>
                    <div class="category-item" data-category="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">
                        <div class="category-icon transport">üöó</div>
                        <span class="category-label">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span>
                    </div>
                    <div class="category-item" data-category="–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞">
                        <div class="category-icon electronics">üì±</div>
                        <span class="category-label">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</span>
                    </div>
                    <div class="category-item" data-category="–û–¥–µ–∂–¥–∞">
                        <div class="category-icon clothes">üëó</div>
                        <span class="category-label">–û–¥–µ–∂–¥–∞</span>
                    </div>
                    <div class="category-item" data-category="–£—Å–ª—É–≥–∏">
                        <div class="category-icon services">üîß</div>
                        <span class="category-label">–£—Å–ª—É–≥–∏</span>
                    </div>
                    <div class="category-item" data-category="–î—Ä—É–≥–æ–µ">
                        <div class="category-icon other">üì¶</div>
                        <span class="category-label">–î—Ä—É–≥–æ–µ</span>
                    </div>
                </div>

                <!-- Subcategory Pills -->
                <div class="dynamic-section" id="subcategorySection">
                    <p class="section-header">–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è</p>
                    <div class="subcategory-pills" id="subcategoryPills"></div>
                </div>

                <!-- Condition Chips -->
                <div class="dynamic-section" id="conditionSection">
                    <p class="section-header">–°–æ—Å—Ç–æ—è–Ω–∏–µ</p>
                    <div class="condition-selector" id="conditionSelector"></div>
                </div>

                <!-- Dynamic Fields Container -->
                <div id="dynamicFieldsContainer"></div>

                <!-- Title & Description - Grouped -->
                <p class="section-header">–û–ø–∏—Å–∞–Ω–∏–µ</p>
                <div class="form-group-container">
                    <div class="form-input-row has-icon">
                        <div class="row-icon blue">üìù</div>
                        <input type="text" 
                               class="input-borderless" 
                               id="title" 
                               placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏—è"
                               maxlength="100">
                    </div>
                    <div class="form-textarea-row">
                        <textarea class="textarea-borderless" 
                                  id="description" 
                                  placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ —É—Å–ª—É–≥–∏..."
                                  maxlength="1000"></textarea>
                    </div>
                    <div class="char-counter" id="descCounter">0/1000</div>
                </div>

                <!-- Price - Grouped -->
                <div class="dynamic-section" id="priceSection">
                    <p class="section-header">–°—Ç–æ–∏–º–æ—Å—Ç—å</p>
                    <div class="form-group-container">
                        <div class="form-input-row has-icon">
                            <div class="row-icon green">üí∞</div>
                            <span class="input-label">–¶–µ–Ω–∞</span>
                            <div class="price-input-container">
                                <input type="number" 
                                       class="price-input" 
                                       id="price" 
                                       placeholder="–î–æ–≥–æ–≤–æ—Ä–Ω–∞—è"
                                       min="0">
                                <span class="price-currency">‚ÇΩ</span>
                            </div>
                        </div>
                        <label class="toggle-row" id="negotiableRow">
                            <div class="toggle-row-left">
                                <div class="row-icon orange">üí¨</div>
                                <span class="toggle-row-label">–¢–æ—Ä–≥ —É–º–µ—Å—Ç–µ–Ω</span>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="negotiable">
                                <span class="toggle-track"></span>
                                <span class="toggle-thumb"></span>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Photos - Carousel -->
                <p class="section-header">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</p>
                <div class="photo-carousel" id="photoCarousel">
                    <div class="photo-add-btn" id="photoAddBtn">
                        <span class="photo-add-icon">+</span>
                        <span class="photo-add-text">–î–æ–±–∞–≤–∏—Ç—å</span>
                    </div>
                </div>
                <p class="photo-count" id="photoCount">–î–æ 5 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</p>
                <input type="file" class="photo-input" id="photoInput" accept="image/*" multiple>

                <!-- Contact - Grouped -->
                <p class="section-header">–ö–æ–Ω—Ç–∞–∫—Ç</p>
                <div class="form-group-container">
                    <div class="form-input-row has-icon" id="contactRow">
                        <div class="row-icon purple">üë§</div>
                        <input type="text" 
                               class="input-borderless" 
                               id="contact" 
                               placeholder="@username –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞">
                    </div>
                    <div class="form-input-row has-icon" id="locationRow">
                        <div class="row-icon gray">üìç</div>
                        <span class="input-label">–õ–æ–∫–∞—Ü–∏—è</span>
                        <span class="row-value" id="locationValue">–í—ã–±—Ä–∞—Ç—å</span>
                        <span class="row-chevron">‚Ä∫</span>
                    </div>
                </div>
                <p class="section-footer" id="contactHint"></p>

                <!-- Schedule - Grouped -->
                <p class="section-header">–ü—É–±–ª–∏–∫–∞—Ü–∏—è</p>
                <div class="form-group-container">
                    <label class="toggle-row" id="scheduleToggleRow">
                        <div class="toggle-row-left">
                            <div class="row-icon blue">‚è∞</div>
                            <span class="toggle-row-label">–û—Ç–ª–æ–∂–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é</span>
                        </div>
                        <div class="toggle-switch">
                            <input type="checkbox" id="scheduleToggle">
                            <span class="toggle-track"></span>
                            <span class="toggle-thumb"></span>
                        </div>
                    </label>
                    <div class="dynamic-section" id="scheduleFields">
                        <div class="form-input-row">
                            <span class="input-label">–î–∞—Ç–∞</span>
                            <input type="date" class="input-borderless text-right" id="scheduleDate">
                        </div>
                        <div class="form-input-row">
                            <span class="input-label">–í—Ä–µ–º—è</span>
                            <input type="time" class="input-borderless text-right" id="scheduleTime" value="09:00">
                        </div>
                    </div>
                </div>
                <p class="section-footer" id="scheduleHint">–û–±—ä—è–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</p>

            </div>
        </div>

        <!-- Preview View -->
        <div class="view" id="previewView">
            <div class="preview-container">
                <div class="telegram-message">
                    <div class="message-photos" id="previewPhotos" style="display: none;"></div>
                    <div class="message-content">
                        <div class="message-hashtags" id="previewHashtags"></div>
                        <h3 class="message-title" id="previewTitle"></h3>
                        <p class="message-description" id="previewDescription"></p>
                        <div class="message-info" id="previewInfo"></div>
                    </div>
                </div>
                <div class="preview-actions">
                    <button type="button" class="preview-button preview-button-secondary" id="backToFormBtn">
                        ‚Üê –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                </div>
                <p class="preview-hint">
                    üìã –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º<br>
                    ‚è∞ –û–±—ã—á–Ω–æ —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç 5-15 –º–∏–Ω—É—Ç
                </p>
            </div>
        </div>

        <!-- Bottom Tab Bar -->
        <nav class="tab-bar" id="tabBar">
            <div class="tab-bar-content">
                <button class="tab-item" id="tabSearch">
                    <span class="tab-item-icon">üîç</span>
                    <span class="tab-item-label">–ü–æ–∏—Å–∫</span>
                </button>
                <div class="tab-item-create">
                    <button class="create-button" id="tabCreate">
                        <span class="create-button-icon">+</span>
                    </button>
                </div>
                <button class="tab-item" id="tabProfile">
                    <span class="tab-item-icon">üë§</span>
                    <span class="tab-item-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
                </button>
            </div>
        </nav>

        <!-- Map Modal -->
        <div class="map-modal" id="mapModal">
            <div class="map-header">
                <h2 class="map-header-title">üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h2>
                <button type="button" class="map-close-btn" id="mapCloseBtn">√ó</button>
            </div>
            <div class="map-container">
                <div id="locationMap"></div>
                <div class="map-controls">
                    <button type="button" class="map-control-btn" id="mapMyLocationBtn">üìç</button>
                </div>
                <div class="map-marker-hint">–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –∫–∞—Ä—Ç—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–∞</div>
            </div>
            <div class="map-footer">
                <div class="map-address" id="mapAddress">
                    <span class="map-address-loading">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ</span>
                </div>
                <div class="map-buttons">
                    <button type="button" class="map-btn map-btn-secondary" id="mapCancelBtn">–û—Ç–º–µ–Ω–∞</button>
                    <button type="button" class="map-btn map-btn-primary" id="mapConfirmBtn" disabled>–í—ã–±—Ä–∞—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

</body>
</html>